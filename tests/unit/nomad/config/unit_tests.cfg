[core]
# The executor class that airflow should use. Choices include
# ``LocalExecutor``, ``CeleryExecutor``,
# ``KubernetesExecutor`` or the full import path to the class when using a custom executor.
#
# Variable: AIRFLOW__CORE__EXECUTOR
#
# executor = LocalExecutor
#
executor = airflow.providers.nomad.executors.nomad_executor.NomadExecutor

[logging]
# Name of handler to read task instance logs.
# Defaults to use ``task`` handler.
#
# Variable: AIRFLOW__LOGGING__TASK_LOG_READER
#
#
# [NOMAD]: Mandatory so that the API server can read logs from the Nomad cluster
task_log_reader = nomad_log_handler


# Logging class
# Specify the class that will specify the logging configuration
# This class has to be on the python classpath
#
# Example: logging_config_class = my.path.default_local_settings.LOGGING_CONFIG
#
# Variable: AIRFLOW__LOGGING__LOGGING_CONFIG_CLASS
#
logging_config_class = airflow.providers.nomad.nomad_log.NOMAD_LOG_CONFIG

[nomad]
# Generic Airflow executor parallelism (should be higher than 0)
#
# Example: parallelism = 128
#
# Variable: AIRFLOW__NOMAD_EXECUTOR__PARALLELISM
#
parallelism = 128

# Nomad server IP
#
# Example: server_ip = 192.168.122.226
#
# Variable: AIRFLOW__NOMAD_EXECUTOR__SERVER_IP
#
server_ip = 127.0.0.1

# Whether TLS certificates are to be considered
#
# Variable: AIRFLOW__NOMAD_EXECUTOR__SECURE
#
secure = False
